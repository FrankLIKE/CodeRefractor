<!--<Window x:Class="VisualCompiler.MainWindow"-->
<!--        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"-->
<!--        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"-->
<!--        xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"-->
<!--        Title="MainWindow" Height="350" Width="525">-->
<!--    <Grid>-->
<!--        <avalonedit:TextEditor-->
<!--				Name="textEditor"-->
<!--				FontFamily="Consolas"-->
<!--				FontSize="10pt"-->
<!--				SyntaxHighlighting="C#"-->
<!--			>-->
<!--        </avalonedit:TextEditor>-->
<!--    </Grid>-->
<!--</Window>-->

<mahapps:MetroWindow x:Class="VisualCompiler.MainWindow"
					 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
					 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
					 xmlns:mahapps="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
					 xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
                     xmlns:visualCompiler="clr-namespace:VisualCompiler"
                     Title="CR Visual Compiler" 
					 Height="800" Width="1000">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Colours.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/Blue.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/BaseLight.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <Style TargetType="TreeViewItem">
                <Setter Property="IsExpanded" Value="True" />
            </Style>
            <Style TargetType="Label" x:Key="HeaderStyle">
                <Setter Property="Margin" Value="5,5,0,0" />
                <Setter Property="FontFamily" Value="Segoe UI Light, Lucida Sans Unicode, Verdana" />
                <Setter Property="FontSize" Value="27" />
                <Setter Property="Foreground">
                    <Setter.Value>
                        <SolidColorBrush Color="Coral" />
                    </Setter.Value>
                </Setter>
            </Style>
            <Style TargetType="Label" x:Key="HeaderStyleFaded" BasedOn="{StaticResource HeaderStyle}">
                <Setter Property="Foreground">
                    <Setter.Value>
                        <SolidColorBrush Color="Gray" />
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </Window.Resources>
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_Optimizations">
                <MenuItem Header="Common"  IsCheckable="True"/>
                <MenuItem Header="ConstantDfa" IsCheckable="True"/>
                <MenuItem Header="Inliner" IsCheckable="True"/>
                <MenuItem Header="Constant Folding And Propagation" IsCheckable="True"/>
                <MenuItem Header="EscapeAndLowering" IsCheckable="True"/>

                <Separator/>
                <MenuItem Header="Jumps"  IsCheckable="True"/>
                <MenuItem Header="Licm" IsCheckable="True"/>
                <MenuItem Header="Purity" IsCheckable="True"/>
                <MenuItem Header="ReachabilityDfa" IsCheckable="True"/>
                <MenuItem Header="RedundantExpressions" IsCheckable="True"/>
                <MenuItem Header="SimpleDce" IsCheckable="True"/>

            </MenuItem>
           
        </Menu>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="50" />
                <RowDefinition Height="*" />
                <RowDefinition Height="50" />
                <RowDefinition Height="150" />
            </Grid.RowDefinitions>
            <Label Grid.Column="0" Grid.Row="0" Style="{StaticResource HeaderStyle}" Content="C# Source Code"/>
            <Border Grid.Column="0" Grid.Row="1" Margin="10" BorderBrush="LightGray" BorderThickness="1" Padding="5">
                <avalonEdit:TextEditor x:Name="TextEditor" TextChanged="TextEditor_OnTextChanged"
								   FontFamily="Consolas" SyntaxHighlighting="C#"
								   ShowLineNumbers="True" />
            </Border>
            <Label Grid.Column="1" Grid.Row="0" Style="{StaticResource HeaderStyle}" Content="Intermediate"/>
            <Border Grid.Column="1" Grid.Row="1" Margin="10" BorderBrush="LightGray" BorderThickness="1" Padding="5">
                <avalonEdit:TextEditor x:Name="IL"
								   FontFamily="Consolas" SyntaxHighlighting="IL"
								   ShowLineNumbers="True" />
<!--            <TreeView Grid.Column="1" Grid.Row="1" ItemsSource="{Binding AbstractSyntaxTree}"-->
<!--				  Margin="10" BorderBrush="LightGray" BorderThickness="1">-->
<!--                <TreeView.Resources>-->
<!--                    ~1~                <HierarchicalDataTemplate DataType="{x:Type treeItems:TreeItemBase}"@1@-->
<!--                    ~1~										  ItemsSource="{Binding Children}">@1@-->
<!--                    ~1~                    <TextBlock Text="{Binding Text}" />@1@-->
<!--                    ~1~                </HierarchicalDataTemplate>@1@-->
<!--                </TreeView.Resources>-->
<!--            </TreeView>-->
            </Border>
            <Label Grid.Column="2" Grid.Row="0" Style="{StaticResource HeaderStyle}" Content="C++ Source Code"/>
            <!--        <TreeView Grid.Column="2" Grid.Row="1" ItemsSource="{Binding IntermediateLanguage.Methods}"-->
            <!--				  Margin="10" BorderBrush="LightGray" BorderThickness="1">-->
            <!--            <TreeView.Resources>-->
            <!--~1~                <HierarchicalDataTemplate DataType="{x:Type compiler:IL+ILMethod}"@1@-->
            <!--~1~										  ItemsSource="{Binding Body}">@1@-->
            <!--~1~                    <TextBlock Text="{Binding Name}" />@1@-->
            <!--~1~                </HierarchicalDataTemplate>@1@-->
            <!--            </TreeView.Resources>-->
            <!--        </TreeView>-->
            <Border Grid.Column="2" Grid.Row="1" Margin="10" BorderBrush="LightGray" BorderThickness="1" Padding="5">
                <avalonEdit:TextEditor x:Name="Output"
								   FontFamily="Consolas" SyntaxHighlighting="C++"
								   ShowLineNumbers="True" />
            </Border>
            <Label Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="2" Style="{StaticResource HeaderStyleFaded}">Compiler Errors</Label>
            <TextBox Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="3" Text="{Binding CompilerErrors, Mode=OneWay}"
				 Margin="10" BorderBrush="LightGray" BorderThickness="1" IsReadOnly="True" />
        </Grid>
    </DockPanel>
    
</mahapps:MetroWindow>
